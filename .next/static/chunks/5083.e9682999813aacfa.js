"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5083],{75083:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(95155),s=r(12115),l=r(85980),o=r(54416),n=r(66766),d=r(94280);let c=new Map;function i(e){let{src:t,alt:r="Image preview",height:i=200,width:x=400,aspectRatio:h="16/9",resetOnTabChange:u=!1}=e,{theme:b,addLog:g}=(0,l.w)(),[p,m]=(0,s.useState)(()=>c.has(t)?c.get(t):{state:"idle",progress:0}),v=(0,s.useRef)(null),k=(0,s.useRef)(null),f=(0,s.useCallback)(e=>{m(e),c.set(t,e)},[t]),[y,j]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{j(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let w=(0,s.useCallback)(()=>{if("idle"!==p.state)return;f({state:"loading",progress:0}),g("IMAGE REQUEST: ".concat(t.split("/").pop()));let e=0,r=3e3+2e3*Math.random(),a=Date.now();v.current=setInterval(()=>{let t,s=Date.now()-a,l=s/r;t=l<.1?.3:l<.2?.8:l<.8?1.5+.3*Math.sin(l*Math.PI*4):l<.95?.5:.2,e+=t*(.8+.4*Math.random())*2,e=Math.min(e,95),s>=r&&(clearInterval(v.current),v.current=null,e=95),f({state:"loading",progress:Math.floor(e)})},50),k.current||(k.current=new Image),k.current.onload=()=>{let e=Date.now(),r=Date.now()-e;r<1500?setTimeout(()=>{v.current&&(clearInterval(v.current),v.current=null),f({state:"loading",progress:100}),setTimeout(()=>{f({state:"ready",progress:100}),g("IMAGE LOADED: ".concat(t.split("/").pop()))},300)},1500-r):(v.current&&(clearInterval(v.current),v.current=null),f({state:"loading",progress:100}),setTimeout(()=>{f({state:"ready",progress:100}),g("IMAGE LOADED: ".concat(t.split("/").pop()))},300))},k.current.onerror=()=>{v.current&&(clearInterval(v.current),v.current=null),f({state:"error",progress:0}),g("ERROR: Failed to load ".concat(t.split("/").pop()))},k.current.src=t},[t,p.state,g,f]);(0,s.useEffect)(()=>()=>{v.current&&clearInterval(v.current)},[]),(0,s.useCallback)(()=>{let e=y?8:12,t=Math.floor(p.progress/100*e);return"█".repeat(t)+"░".repeat(e-t)},[p.progress,y]);let[N,I]=(0,s.useState)(!1),E=()=>{I(!1),g("LIGHTBOX: Closed")},M="\n      relative font-mono text-sm flex items-center justify-center overflow-hidden\n      ".concat("dark"===b?"bg-dark-bg text-dark-text-primary":"bg-light-bg text-light-text-primary","\n    ");return"idle"===p.state?(0,a.jsx)("div",{className:"".concat(M," cursor-pointer border-2 ").concat("dark"===b?"border-dark-border":"border-light-border"),style:{height:"".concat(i,"px"),borderStyle:"dashed"},onClick:w,children:(0,a.jsx)("button",{className:"\n    px-3 sm:px-4 py-2 border rounded cursor-pointer transition-colors z-10 text-xs sm:text-sm\n      ".concat("dark"===b?"border-dark-border hover:bg-dark-hover text-dark-text-command":"border-light-border hover:bg-light-hover text-light-text-command","\n    "),children:"[ SHOW IMAGE ]"})}):"loading"===p.state?(0,a.jsx)("div",{className:"".concat(M," border-2 ").concat("dark"===b?"border-dark-border":"border-light-border"),style:{height:"".concat(i,"px"),borderStyle:"dashed",padding:"1rem"},children:(0,a.jsx)("div",{className:"w-full max-w-xs px-2",children:(0,a.jsx)(d.A,{progress:p.progress,isLoading:!0,label:"RENDERING IMAGE",showPercentage:!0,animateProgress:!1,height:"h-3"})})}):"error"===p.state?(0,a.jsx)("div",{className:"".concat(M," border ").concat("dark"===b?"border-dark-border":"border-light-border"),style:{height:"".concat(i,"px"),borderStyle:"dashed"},children:(0,a.jsxs)("div",{className:"text-center ".concat("dark"===b?"text-dark-error":"text-light-error"),children:["[ ERROR ]",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs",children:"Failed to load image"})]})}):"ready"===p.state?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative cursor-pointer group",onClick:()=>{"ready"===p.state&&(I(!0),g("LIGHTBOX: Opened"))},style:{aspectRatio:h},children:[(0,a.jsx)("div",{className:"relative w-full h-full rounded border overflow-hidden ".concat("dark"===b?"border-dark-border":"border-light-border"),children:(0,a.jsx)(n.default,{src:t,alt:r,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"},className:"transition-all group-hover:opacity-90"})}),(0,a.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity ".concat("dark"===b?"bg-dark-bg/80 text-dark-text-command border border-dark-border":"bg-light-bg/80 text-light-text-command border border-light-border"),children:"[ CLICK TO EXPAND ]"})]}),N&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:E,children:[(0,a.jsx)("div",{className:"absolute inset-0 ".concat("dark"===b?"bg-black/80":"bg-black/60")}),(0,a.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh] w-full h-full flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:E,className:"absolute top-2 right-2 z-10 p-2 rounded-full transition-colors ".concat("dark"===b?"bg-dark-bg/90 text-dark-text-primary hover:bg-dark-hover border border-dark-border":"bg-light-bg/90 text-light-text-primary hover:bg-light-hover border border-light-border"),"aria-label":"Close lightbox",children:(0,a.jsx)(o.A,{size:20})}),(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(n.default,{src:t,alt:r,fill:!0,sizes:"90vw",style:{objectFit:"contain"},quality:100,className:"rounded ".concat("dark"===b?"drop-shadow-2xl":"drop-shadow-xl")})}),r&&(0,a.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 px-4 py-2 text-center text-sm font-mono ".concat("dark"===b?"text-dark-text-secondary bg-dark-bg/90 border border-dark-border":"text-light-text-secondary bg-light-bg/90 border border-light-border"," rounded"),children:r})]})]})]}):null}},94280:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(95155),s=r(12115),l=r(85980);function o(e){let{progress:t=0,isLoading:r=!1,label:o="LOADING",showPercentage:n=!0,animateProgress:d=!0,height:c="h-4"}=e,{theme:i}=(0,l.w)(),[x,h]=(0,s.useState)(0),[u,b]=(0,s.useState)(0),g=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];if((0,s.useEffect)(()=>{if(!d)return void h(t);let e=setInterval(()=>{h(e=>{let r=t-e;return 1>Math.abs(r)?t:e+.1*r})},50);return()=>clearInterval(e)},[t,d]),(0,s.useEffect)(()=>{if(!r)return;let e=setInterval(()=>{b(e=>(e+1)%g.length)},100);return()=>clearInterval(e)},[r,g.length]),!r)return null;let p=Math.floor(x/100*30),m="█".repeat(p)+"░".repeat(30-p);return(0,a.jsxs)("div",{className:"space-y-2 ".concat("dark"===i?"text-dark-text-primary":"text-light-text-primary"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"".concat("dark"===i?"text-dark-text-command":"text-light-text-command"),children:g[u]}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider ".concat("dark"===i?"text-dark-text-secondary":"text-light-text-secondary"),children:o})]}),n&&(0,a.jsxs)("span",{className:"text-xs ".concat("dark"===i?"text-dark-success":"text-light-success"),children:[Math.round(x),"%"]})]}),(0,a.jsx)("div",{className:"".concat(c," relative overflow-hidden rounded ").concat("dark"===i?"bg-dark-hover":"bg-light-hover"),children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center px-1 font-mono text-xs ".concat("dark"===i?"text-dark-success":"text-light-success"),children:m})}),(0,a.jsx)("div",{className:"text-xs ".concat("dark"===i?"text-dark-text-secondary":"text-light-text-secondary"),children:(0,a.jsxs)("span",{className:"opacity-60",children:["[",Math.round(x),"% complete]"]})})]})}}}]);