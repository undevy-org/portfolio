"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5083],{75083:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(95155),a=r(12115),l=r(35888),n=r(54416),o=r(66766),i=r(94280);let c=new Map;function d(e){let{src:t,alt:r="Image preview",height:d=200,width:u=400,aspectRatio:m="16/9",resetOnTabChange:x=!1}=e,{addLog:p}=(0,l.wV)(),[h,v]=(0,a.useState)(()=>c.has(t)?c.get(t):{state:"idle",progress:0}),f=(0,a.useRef)(null),b=(0,a.useRef)(null),g=(0,a.useCallback)(e=>{v(e),c.set(t,e)},[t]),[y,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{j(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let w=(0,a.useCallback)(()=>{if("idle"!==h.state)return;g({state:"loading",progress:0}),p("IMAGE REQUEST: ".concat(t.split("/").pop()));let e=0,r=3e3+2e3*Math.random(),s=Date.now();f.current=setInterval(()=>{let t,a=Date.now()-s,l=a/r;t=l<.1?.3:l<.2?.8:l<.8?1.5+.3*Math.sin(l*Math.PI*4):l<.95?.5:.2,e+=t*(.8+.4*Math.random())*2,e=Math.min(e,95),a>=r&&(clearInterval(f.current),f.current=null,e=95),g({state:"loading",progress:Math.floor(e)})},50),b.current||(b.current=new Image),b.current.onload=()=>{let e=Date.now(),r=Date.now()-e;r<1500?setTimeout(()=>{f.current&&(clearInterval(f.current),f.current=null),g({state:"loading",progress:100}),setTimeout(()=>{g({state:"ready",progress:100}),p("IMAGE LOADED: ".concat(t.split("/").pop()))},300)},1500-r):(f.current&&(clearInterval(f.current),f.current=null),g({state:"loading",progress:100}),setTimeout(()=>{g({state:"ready",progress:100}),p("IMAGE LOADED: ".concat(t.split("/").pop()))},300))},b.current.onerror=()=>{f.current&&(clearInterval(f.current),f.current=null),g({state:"error",progress:0}),p("ERROR: Failed to load ".concat(t.split("/").pop()))},b.current.src=t},[t,h.state,p,g]);(0,a.useEffect)(()=>()=>{f.current&&clearInterval(f.current)},[]),(0,a.useCallback)(()=>{let e=y?8:12,t=Math.floor(h.progress/100*e);return"█".repeat(t)+"░".repeat(e-t)},[h.progress,y]);let[N,I]=(0,a.useState)(!1),E=()=>{I(!1),p("LIGHTBOX: Closed")};return"idle"===h.state?(0,s.jsx)("div",{className:"relative font-mono text-sm flex items-center justify-center overflow-hidden cursor-pointer border-2 bg-main text-primary border-primary",style:{height:"".concat(d,"px"),borderStyle:"dashed"},onClick:w,children:(0,s.jsx)("button",{className:"btn-command px-3 sm:px-4 py-2 z-10 text-xs sm:text-sm",children:"[ SHOW IMAGE ]"})}):"loading"===h.state?(0,s.jsx)("div",{className:"relative font-mono text-sm flex items-center justify-center overflow-hidden border-2 bg-main border-primary",style:{height:"".concat(d,"px"),borderStyle:"dashed",padding:"1rem"},children:(0,s.jsx)("div",{className:"w-full max-w-xs px-2",children:(0,s.jsx)(i.A,{progress:h.progress,isLoading:!0,label:"RENDERING IMAGE",showPercentage:!0,animateProgress:!1,height:"h-3"})})}):"error"===h.state?(0,s.jsx)("div",{className:"relative font-mono text-sm flex items-center justify-center overflow-hidden border bg-main border-primary",style:{height:"".concat(d,"px"),borderStyle:"dashed"},children:(0,s.jsxs)("div",{className:"text-center text-error",children:["[ ERROR ]",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-xs",children:"Failed to load image"})]})}):"ready"===h.state?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative cursor-pointer group",onClick:()=>{"ready"===h.state&&(I(!0),p("LIGHTBOX: Opened"))},style:{aspectRatio:m},children:[(0,s.jsx)("div",{className:"relative w-full h-full rounded border overflow-hidden border-primary",children:(0,s.jsx)(o.default,{src:t,alt:r,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"},className:"transition-all group-hover:opacity-90"})}),(0,s.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-main/80 text-command border border-primary",children:"[ CLICK TO EXPAND ]"})]}),N&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:E,children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/80"}),(0,s.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh] w-full h-full flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:E,className:"absolute top-2 right-2 z-10 p-2 rounded-full transition-colors bg-main/90 text-primary bg-hover border border-primary","aria-label":"Close lightbox",children:(0,s.jsx)(n.A,{size:20})}),(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(o.default,{src:t,alt:r,fill:!0,sizes:"90vw",style:{objectFit:"contain"},quality:100,className:"rounded"})}),r&&(0,s.jsx)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 px-4 py-2 text-center text-sm font-mono text-secondary bg-main/90 border border-secondary rounded",children:r})]})]})]}):null}},94280:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(95155),a=r(12115);function l(e){let{progress:t=0,isLoading:r=!1,label:l="LOADING",showPercentage:n=!0,animateProgress:o=!0,height:i="h-2",showPulse:c=!0}=e,[d,u]=(0,a.useState)(0),[m,x]=(0,a.useState)(0),p=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];return((0,a.useEffect)(()=>{if(!o)return void u(t);let e=setInterval(()=>{u(e=>{let r=t-e;return 1>Math.abs(r)?t:e+.1*r})},50);return()=>clearInterval(e)},[t,o]),(0,a.useEffect)(()=>{if(!r)return;let e=setInterval(()=>{x(e=>(e+1)%p.length)},100);return()=>clearInterval(e)},[r,p.length]),r)?(0,s.jsxs)("div",{className:"w-full space-y-2 text-primary",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-command",children:p[m]}),(0,s.jsx)("span",{className:"text-xs uppercase tracking-wider text-secondary",children:l})]}),n&&(0,s.jsxs)("span",{className:"text-xs text-success",children:[Math.round(d),"%"]})]}),(0,s.jsx)("div",{className:"".concat(i," relative w-full overflow-hidden border border-secondary"),style:{backgroundColor:"var(--color-hover)"},children:(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 transition-all duration-300 ease-out ".concat(c&&d<100?"animate-pulse-progress":""),style:{width:"".concat(d,"%"),backgroundColor:"var(--color-success)"}})}),(0,s.jsx)("div",{className:"text-xs text-secondary",children:(0,s.jsxs)("span",{className:"opacity-60",children:["[",Math.round(d),"% complete]"]})})]}):null}}}]);